{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Deep%20Slap/Desktop/main%20sit/shri-karni-ecommerce/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Deep%20Slap/Desktop/main%20sit/shri-karni-ecommerce/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Deep%20Slap/Desktop/main%20sit/shri-karni-ecommerce/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS","debugId":null}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Deep%20Slap/Desktop/main%20sit/shri-karni-ecommerce/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Deep%20Slap/Desktop/main%20sit/shri-karni-ecommerce/lib/firebase.ts"],"sourcesContent":["import { initializeApp } from 'firebase/app'\nimport { getAuth } from 'firebase/auth'\nimport { getDatabase } from 'firebase/database'\nimport { getStorage } from 'firebase/storage'\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC35qfMbaWyM1lr9ehE9QxuF2y3kcmpChA\",\n  authDomain: \"db-shrikarni.firebaseapp.com\",\n  projectId: \"db-shrikarni\",\n  storageBucket: \"db-shrikarni.firebasestorage.app\",\n  messagingSenderId: \"1044612421585\",\n  appId: \"1:1044612421585:web:f6147f4c0fcdc46098b2f0\",\n  measurementId: \"G-5N3TMGBPTP\"\n}\n\nconst app = initializeApp(firebaseConfig)\nexport const auth = getAuth(app)\nexport const database = getDatabase(app)\nexport const storage = getStorage(app)\nexport default app\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,MAAM,MAAM,CAAA,GAAA,mLAAA,CAAA,gBAAa,AAAD,EAAE;AACnB,MAAM,OAAO,CAAA,GAAA,yMAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,WAAW,CAAA,GAAA,iKAAA,CAAA,cAAW,AAAD,EAAE;AAC7B,MAAM,UAAU,CAAA,GAAA,gKAAA,CAAA,aAAU,AAAD,EAAE;uCACnB","debugId":null}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Deep%20Slap/Desktop/main%20sit/shri-karni-ecommerce/lib/auth.ts"],"sourcesContent":["import { auth, database } from './firebase'\nimport { signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, User } from 'firebase/auth'\nimport { ref, set, get } from 'firebase/database'\n\nexport interface UserData {\n  role: 'admin' | 'seller' | 'customer'\n  name: string\n  email: string\n  phone?: string\n  address?: string\n  shopName?: string\n  username?: string\n}\n\nexport const loginUser = async (email: string, password: string) => {\n  try {\n    const userCredential = await signInWithEmailAndPassword(auth, email, password)\n    const user = userCredential.user\n    \n    // Get user role from database\n    const userRef = ref(database, `users/${user.uid}`)\n    const snapshot = await get(userRef)\n    const userData = snapshot.val() as UserData\n    \n    return { user, userData }\n  } catch (error) {\n    throw error\n  }\n}\n\nexport const registerUser = async (\n  email: string, \n  password: string, \n  userData: Omit<UserData, 'role'> & { role: 'seller' | 'customer' }\n) => {\n  try {\n    const userCredential = await createUserWithEmailAndPassword(auth, email, password)\n    const user = userCredential.user\n    \n    // Save user data to database\n    await set(ref(database, `users/${user.uid}`), {\n      ...userData,\n      email: user.email,\n      name: userData.name || '',\n      phone: userData.phone || '',\n      address: userData.address || '',\n      shopName: userData.shopName || '',\n      username: userData.username || ''\n    })\n    \n    return user\n  } catch (error) {\n    throw error\n  }\n}\n\nexport const logoutUser = () => signOut(auth)\n\nexport const getUserData = async (uid: string): Promise<UserData | null> => {\n  try {\n    if (!uid) return null\n    \n    const userRef = ref(database, `users/${uid}`)\n    const snapshot = await get(userRef)\n    const data = snapshot.val()\n    \n    if (!data) return null\n    \n    // Ensure all required fields have fallback values\n    return {\n      role: data.role || 'customer',\n      name: data.name || '',\n      email: data.email || '',\n      phone: data.phone || '',\n      address: data.address || '',\n      shopName: data.shopName || '',\n      username: data.username || ''\n    }\n  } catch (error) {\n    console.error('Error getting user data:', error)\n    return null\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;;;;AAYO,MAAM,YAAY,OAAO,OAAe;IAC7C,IAAI;QACF,MAAM,iBAAiB,MAAM,CAAA,GAAA,6NAAA,CAAA,6BAA0B,AAAD,EAAE,kHAAA,CAAA,OAAI,EAAE,OAAO;QACrE,MAAM,OAAO,eAAe,IAAI;QAEhC,8BAA8B;QAC9B,MAAM,UAAU,CAAA,GAAA,iKAAA,CAAA,MAAG,AAAD,EAAE,kHAAA,CAAA,WAAQ,EAAE,CAAC,MAAM,EAAE,KAAK,GAAG,EAAE;QACjD,MAAM,WAAW,MAAM,CAAA,GAAA,iKAAA,CAAA,MAAG,AAAD,EAAE;QAC3B,MAAM,WAAW,SAAS,GAAG;QAE7B,OAAO;YAAE;YAAM;QAAS;IAC1B,EAAE,OAAO,OAAO;QACd,MAAM;IACR;AACF;AAEO,MAAM,eAAe,OAC1B,OACA,UACA;IAEA,IAAI;QACF,MAAM,iBAAiB,MAAM,CAAA,GAAA,iOAAA,CAAA,iCAA8B,AAAD,EAAE,kHAAA,CAAA,OAAI,EAAE,OAAO;QACzE,MAAM,OAAO,eAAe,IAAI;QAEhC,6BAA6B;QAC7B,MAAM,CAAA,GAAA,iKAAA,CAAA,MAAG,AAAD,EAAE,CAAA,GAAA,iKAAA,CAAA,MAAG,AAAD,EAAE,kHAAA,CAAA,WAAQ,EAAE,CAAC,MAAM,EAAE,KAAK,GAAG,EAAE,GAAG;YAC5C,GAAG,QAAQ;YACX,OAAO,KAAK,KAAK;YACjB,MAAM,SAAS,IAAI,IAAI;YACvB,OAAO,SAAS,KAAK,IAAI;YACzB,SAAS,SAAS,OAAO,IAAI;YAC7B,UAAU,SAAS,QAAQ,IAAI;YAC/B,UAAU,SAAS,QAAQ,IAAI;QACjC;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,MAAM;IACR;AACF;AAEO,MAAM,aAAa,IAAM,CAAA,GAAA,yMAAA,CAAA,UAAO,AAAD,EAAE,kHAAA,CAAA,OAAI;AAErC,MAAM,cAAc,OAAO;IAChC,IAAI;QACF,IAAI,CAAC,KAAK,OAAO;QAEjB,MAAM,UAAU,CAAA,GAAA,iKAAA,CAAA,MAAG,AAAD,EAAE,kHAAA,CAAA,WAAQ,EAAE,CAAC,MAAM,EAAE,KAAK;QAC5C,MAAM,WAAW,MAAM,CAAA,GAAA,iKAAA,CAAA,MAAG,AAAD,EAAE;QAC3B,MAAM,OAAO,SAAS,GAAG;QAEzB,IAAI,CAAC,MAAM,OAAO;QAElB,kDAAkD;QAClD,OAAO;YACL,MAAM,KAAK,IAAI,IAAI;YACnB,MAAM,KAAK,IAAI,IAAI;YACnB,OAAO,KAAK,KAAK,IAAI;YACrB,OAAO,KAAK,KAAK,IAAI;YACrB,SAAS,KAAK,OAAO,IAAI;YACzB,UAAU,KAAK,QAAQ,IAAI;YAC3B,UAAU,KAAK,QAAQ,IAAI;QAC7B;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 297, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Deep%20Slap/Desktop/main%20sit/shri-karni-ecommerce/hooks/use-auth.ts"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, createContext, useContext } from 'react'\nimport { User, onAuthStateChanged } from 'firebase/auth'\nimport { auth } from '@/lib/firebase'\nimport { getUserData, UserData } from '@/lib/auth'\n\ninterface AuthContextType {\n  user: User | null\n  userData: UserData | null\n  loading: boolean\n  initialized: boolean\n}\n\nconst AuthContext = createContext<AuthContextType>({\n  user: null,\n  userData: null,\n  loading: true,\n  initialized: false\n})\n\nexport function useAuth() {\n  const [user, setUser] = useState<User | null>(null)\n  const [userData, setUserData] = useState<UserData | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [initialized, setInitialized] = useState(false)\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      try {\n        setUser(user)\n        \n        if (user) {\n          const data = await getUserData(user.uid)\n          setUserData(data)\n        } else {\n          setUserData(null)\n        }\n      } catch (error) {\n        console.error('Error in auth state change:', error)\n        setUserData(null)\n      } finally {\n        setLoading(false)\n        setInitialized(true)\n      }\n    })\n\n    return () => unsubscribe()\n  }, [])\n\n  return { user, userData, loading, initialized }\n}\n"],"names":[],"mappings":";;;AAEA;AACA;AAAA;AACA;AACA;;AALA;;;;;AAcA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAmB;IACjD,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;AACf;AAEO,SAAS;;IACd,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAmB;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6BAAE;YACR,MAAM,cAAc,CAAA,GAAA,oNAAA,CAAA,qBAAkB,AAAD,EAAE,kHAAA,CAAA,OAAI;iDAAE,OAAO;oBAClD,IAAI;wBACF,QAAQ;wBAER,IAAI,MAAM;4BACR,MAAM,OAAO,MAAM,CAAA,GAAA,8GAAA,CAAA,cAAW,AAAD,EAAE,KAAK,GAAG;4BACvC,YAAY;wBACd,OAAO;4BACL,YAAY;wBACd;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,+BAA+B;wBAC7C,YAAY;oBACd,SAAU;wBACR,WAAW;wBACX,eAAe;oBACjB;gBACF;;YAEA;qCAAO,IAAM;;QACf;4BAAG,EAAE;IAEL,OAAO;QAAE;QAAM;QAAU;QAAS;IAAY;AAChD;GA9BgB","debugId":null}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Deep%20Slap/Desktop/main%20sit/shri-karni-ecommerce/contexts/cart-context.tsx"],"sourcesContent":["'use client'\n\nimport React, { createContext, useContext, useReducer, useEffect } from 'react'\nimport { useAuth } from '@/hooks/use-auth'\n\ninterface CartItem {\n  productId: string\n  name: string\n  price: number\n  quantity: number\n  image: string\n  sellerId: string\n  sellerName: string\n}\n\ninterface CartState {\n  items: CartItem[]\n  total: number\n  itemCount: number\n}\n\ntype CartAction = \n  | { type: 'ADD_ITEM'; payload: CartItem }\n  | { type: 'REMOVE_ITEM'; payload: string }\n  | { type: 'UPDATE_QUANTITY'; payload: { productId: string; quantity: number } }\n  | { type: 'CLEAR_CART' }\n  | { type: 'LOAD_CART'; payload: CartItem[] }\n\nconst CartContext = createContext<{\n  state: CartState\n  dispatch: React.Dispatch<CartAction>\n  addToCart: (item: Omit<CartItem, 'quantity'>, quantity?: number) => void\n  removeFromCart: (productId: string) => void\n  updateQuantity: (productId: string, quantity: number) => void\n  clearCart: () => void\n} | null>(null)\n\nconst cartReducer = (state: CartState, action: CartAction): CartState => {\n  switch (action.type) {\n    case 'ADD_ITEM': {\n      const existingItem = state.items.find(item => item.productId === action.payload.productId)\n      \n      if (existingItem) {\n        const updatedItems = state.items.map(item =>\n          item.productId === action.payload.productId\n            ? { ...item, quantity: item.quantity + (action.payload.quantity || 1) }\n            : item\n        )\n        return {\n          ...state,\n          items: updatedItems,\n          total: updatedItems.reduce((sum, item) => sum + (item.price * item.quantity), 0),\n          itemCount: updatedItems.reduce((sum, item) => sum + item.quantity, 0)\n        }\n      }\n      \n      const newItems = [...state.items, { ...action.payload, quantity: action.payload.quantity || 1 }]\n      return {\n        ...state,\n        items: newItems,\n        total: newItems.reduce((sum, item) => sum + (item.price * item.quantity), 0),\n        itemCount: newItems.reduce((sum, item) => sum + item.quantity, 0)\n      }\n    }\n    \n    case 'REMOVE_ITEM': {\n      const newItems = state.items.filter(item => item.productId !== action.payload)\n      return {\n        ...state,\n        items: newItems,\n        total: newItems.reduce((sum, item) => sum + (item.price * item.quantity), 0),\n        itemCount: newItems.reduce((sum, item) => sum + item.quantity, 0)\n      }\n    }\n    \n    case 'UPDATE_QUANTITY': {\n      const newItems = state.items.map(item =>\n        item.productId === action.payload.productId\n          ? { ...item, quantity: action.payload.quantity }\n          : item\n      ).filter(item => item.quantity > 0)\n      \n      return {\n        ...state,\n        items: newItems,\n        total: newItems.reduce((sum, item) => sum + (item.price * item.quantity), 0),\n        itemCount: newItems.reduce((sum, item) => sum + item.quantity, 0)\n      }\n    }\n    \n    case 'CLEAR_CART':\n      return { items: [], total: 0, itemCount: 0 }\n    \n    case 'LOAD_CART': {\n      const items = action.payload\n      return {\n        items,\n        total: items.reduce((sum, item) => sum + (item.price * item.quantity), 0),\n        itemCount: items.reduce((sum, item) => sum + item.quantity, 0)\n      }\n    }\n    \n    default:\n      return state\n  }\n}\n\nexport function CartProvider({ children }: { children: React.ReactNode }) {\n  const [state, dispatch] = useReducer(cartReducer, { items: [], total: 0, itemCount: 0 })\n  const { user, initialized } = useAuth()\n\n  // Load cart from localStorage on mount\n  useEffect(() => {\n    if (initialized) {\n      const cartKey = user ? `cart_${user.uid}` : 'guest_cart'\n      const savedCart = localStorage.getItem(cartKey)\n      if (savedCart) {\n        try {\n          const raw = JSON.parse(savedCart) as any[]\n          const normalized = Array.isArray(raw)\n            ? raw\n                .map((it) => ({\n                  productId: it?.productId ?? it?.id ?? '',\n                  name: it?.name ?? 'Unknown Product',\n                  price: typeof it?.price === 'number' ? it.price : (parseFloat(it?.price) || 0),\n                  quantity: typeof it?.quantity === 'number' && it.quantity > 0 ? it.quantity : 1,\n                  image: it?.image ?? it?.imageUrl ?? '',\n                  sellerId: it?.sellerId ?? '',\n                  sellerName: it?.sellerName ?? 'Unknown Seller',\n                }))\n                .filter((it) => !!it.productId)\n            : []\n          dispatch({ type: 'LOAD_CART', payload: normalized })\n          // Persist normalized shape back\n          localStorage.setItem(cartKey, JSON.stringify(normalized))\n        } catch (error) {\n          console.error('Error loading cart:', error)\n        }\n      }\n    }\n  }, [user, initialized])\n\n  // Save cart to localStorage whenever it changes\n  useEffect(() => {\n    if (initialized) {\n      const cartKey = user ? `cart_${user.uid}` : 'guest_cart'\n      localStorage.setItem(cartKey, JSON.stringify(state.items))\n    }\n  }, [state.items, user, initialized])\n\n  const addToCart = (item: Omit<CartItem, 'quantity'>, quantity: number = 1) => {\n    dispatch({ type: 'ADD_ITEM', payload: { ...item, quantity } })\n  }\n\n  const removeFromCart = (productId: string) => {\n    dispatch({ type: 'REMOVE_ITEM', payload: productId })\n  }\n\n  const updateQuantity = (productId: string, quantity: number) => {\n    dispatch({ type: 'UPDATE_QUANTITY', payload: { productId, quantity } })\n  }\n\n  const clearCart = () => {\n    dispatch({ type: 'CLEAR_CART' })\n  }\n\n  return (\n    <CartContext.Provider value={{\n      state,\n      dispatch,\n      addToCart,\n      removeFromCart,\n      updateQuantity,\n      clearCart\n    }}>\n      {children}\n    </CartContext.Provider>\n  )\n}\n\nexport const useCart = () => {\n  const context = useContext(CartContext)\n  if (!context) {\n    throw new Error('useCart must be used within a CartProvider')\n  }\n  return context\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 582, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Deep%20Slap/Desktop/main%20sit/shri-karni-ecommerce/components/layout/navbar.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport { useRouter } from 'next/navigation'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Input } from '@/components/ui/input'\nimport { ShoppingCart, User, LogOut, Home, Package, Users, MessageSquare, Menu, Search, ChevronLeft, ChevronRight } from 'lucide-react'\nimport { useAuth } from '@/hooks/use-auth'\nimport { logoutUser } from '@/lib/auth'\nimport { useCart } from '@/contexts/cart-context'\nimport { useState, useEffect, useRef } from 'react'\nimport type { Category, Product } from '@/types'\nimport { database } from '@/lib/firebase'\nimport { ref, onValue, get } from 'firebase/database'\n\nexport function Navbar() {\n  const { user, userData, loading } = useAuth()\n  const router = useRouter()\n  const { state } = useCart()\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false)\n  const [categories, setCategories] = useState<Category[]>([])\n  const [searchQuery, setSearchQuery] = useState('')\n  const catScrollRef = useRef<HTMLDivElement>(null)\n  const [activeCat, setActiveCat] = useState<Category | null>(null)\n  const [loadingCat, setLoadingCat] = useState<string | null>(null)\n  const [catProducts, setCatProducts] = useState<Record<string, Product[]>>({})\n  const closeTimerRef = useRef<ReturnType<typeof setTimeout> | null>(null)\n\n  const scrollCats = (dx: number) => {\n    const el = catScrollRef.current\n    if (el) el.scrollBy({ left: dx, behavior: 'smooth' })\n  }\n\n  const fetchProductsForCategory = async (catName: string) => {\n    if (catProducts[catName]) return\n    try {\n      setLoadingCat(catName)\n      const snapshot = await get(ref(database, 'products'))\n      const data = snapshot.val()\n      let list: Product[] = []\n      if (data) {\n        list = (Object.entries(data)\n          .map(([id, p]: [string, any]) => ({ id, ...(p as any) }))\n          .filter((p: any) => p?.name && p?.category === catName)\n          .sort((a: any, b: any) => (b?.createdAt || 0) - (a?.createdAt || 0))\n          .slice(0, 8)) as Product[]\n      }\n      setCatProducts(prev => ({ ...prev, [catName]: list }))\n    } catch (e) {\n      console.error('Navbar products load failed:', e)\n      setCatProducts(prev => ({ ...prev, [catName]: [] }))\n    } finally {\n      setLoadingCat(prev => (prev === catName ? null : prev))\n    }\n  }\n\n  const cancelClose = () => {\n    if (closeTimerRef.current) {\n      clearTimeout(closeTimerRef.current)\n      closeTimerRef.current = null\n    }\n  }\n\n  const scheduleClose = () => {\n    if (closeTimerRef.current) clearTimeout(closeTimerRef.current)\n    closeTimerRef.current = setTimeout(() => setActiveCat(null), 400)\n  }\n\n  const openCat = (cat: Category) => {\n    cancelClose()\n    setActiveCat(cat)\n    fetchProductsForCategory(cat.name)\n  }\n\n  useEffect(() => {\n    try {\n      const categoriesRef = ref(database, 'categories')\n      const unsubscribe = onValue(categoriesRef, (snapshot) => {\n        const data = snapshot.val()\n        if (data) {\n          const list = Object.entries(data).map(([id, c]: [string, any]) => ({\n            id,\n            name: c?.name || '',\n            description: c?.description || '',\n            imageUrl: c?.imageUrl || ''\n          })).filter(c => c.name)\n          setCategories(list)\n        } else {\n          setCategories([])\n        }\n      })\n      return () => unsubscribe()\n    } catch (e) {\n      console.error('Navbar categories load failed:', e)\n    }\n  }, [])\n\n  const handleLogout = async () => {\n    try {\n      await logoutUser()\n      router.push('/')\n    } catch (error) {\n      console.error('Logout error:', error)\n    }\n  }\n\n  const handleSearchSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    const q = searchQuery.trim()\n    if (q) {\n      router.push(`/search?q=${encodeURIComponent(q)}`)\n    }\n  }\n\n  return (\n    <nav className=\"bg-white/95 backdrop-blur-md shadow-lg border-b border-orange-100 sticky top-0 z-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-20\">\n          {/* Enhanced Logo */}\n          <div className=\"flex items-center\">\n            <Link href=\"/\" className=\"flex items-center space-x-3 group\">\n              <div className=\"p-2 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105\">\n                <Home className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"hidden sm:block\">\n                <span className=\"text-xl font-bold bg-gradient-to-r from-orange-600 to-orange-700 bg-clip-text text-transparent\">\n                  Shri Karni\n                </span>\n                <div className=\"text-xs text-gray-500 -mt-1\">Home Solutions</div>\n              </div>\n              <span className=\"text-lg font-bold bg-gradient-to-r from-orange-600 to-orange-700 bg-clip-text text-transparent sm:hidden\">\n                Shri Karni\n              </span>\n            </Link>\n          </div>\n\n          {/* Enhanced Search (desktop) */}\n          <div className=\"hidden md:flex flex-1 max-w-2xl mx-8\">\n            <form onSubmit={handleSearchSubmit} className=\"w-full\">\n              <div className=\"relative group\">\n                <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 group-focus-within:text-orange-500 transition-colors duration-200\" />\n                <Input\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  placeholder=\"Search for Products, Brands and More...\"\n                  className=\"h-12 pl-12 pr-4 bg-gray-50/80 backdrop-blur-sm border-2 border-transparent rounded-2xl text-base placeholder:text-gray-400 focus:border-orange-300 focus:bg-white focus:shadow-lg transition-all duration-300 hover:bg-white/90\"\n                />\n                <Button\n                  type=\"submit\"\n                  size=\"sm\"\n                  className=\"absolute right-2 top-1/2 -translate-y-1/2 bg-orange-500 hover:bg-orange-600 text-white rounded-xl px-4 py-2 transition-all duration-200 hover:scale-105\"\n                >\n                  Search\n                </Button>\n              </div>\n            </form>\n          </div>\n\n          {/* Enhanced Right actions (desktop) */}\n          <div className=\"hidden md:flex items-center gap-4\">\n            {loading ? (\n              <div className=\"animate-pulse flex space-x-3\">\n                <div className=\"h-10 w-24 bg-gray-200 rounded-xl\"></div>\n                <div className=\"h-10 w-20 bg-gray-200 rounded-xl\"></div>\n              </div>\n            ) : user && userData ? (\n              <>\n                {/* Quick Links */}\n                <Link href=\"/categories\">\n                  <Button variant=\"ghost\" className=\"text-gray-600 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200\">\n                    <Package className=\"h-4 w-4 mr-2\" />\n                    Categories\n                  </Button>\n                </Link>\n\n                {/* Enhanced Cart */}\n                <Link href=\"/cart\">\n                  <Button variant=\"ghost\" className=\"relative text-gray-600 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200 group\">\n                    <ShoppingCart className=\"h-5 w-5 mr-2 group-hover:scale-110 transition-transform duration-200\" />\n                    Cart\n                    {state.itemCount > 0 && (\n                      <Badge className=\"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0 flex items-center justify-center text-xs bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg animate-pulse\">\n                        {state.itemCount > 99 ? '99+' : state.itemCount}\n                      </Badge>\n                    )}\n                  </Button>\n                </Link>\n\n                {/* Enhanced User Menu */}\n                <div className=\"flex items-center gap-2 pl-4 border-l border-gray-200\">\n                  <Link href={userData.role === 'customer' ? '/customer/profile' : userData.role === 'seller' ? '/seller/dashboard' : '/admin/dashboard'}>\n                    <Button variant=\"ghost\" className=\"text-gray-600 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200\">\n                      <User className=\"h-4 w-4 mr-2\" />\n                      {userData.name}\n                    </Button>\n                  </Link>\n                  \n                  {userData.role !== 'customer' && (\n                    <Link href={userData.role === 'seller' ? '/seller/dashboard' : '/admin/dashboard'}>\n                      <Button size=\"sm\" className=\"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105\">\n                        Dashboard\n                      </Button>\n                    </Link>\n                  )}\n                  \n                  <Button variant=\"ghost\" size=\"sm\" onClick={handleLogout} className=\"text-gray-500 hover:text-red-600 hover:bg-red-50 transition-all duration-200\">\n                    <LogOut className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </>\n            ) : (\n              <>\n                {/* Quick Links for Guests */}\n                <Link href=\"/categories\">\n                  <Button variant=\"ghost\" className=\"text-gray-600 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200\">\n                    <Package className=\"h-4 w-4 mr-2\" />\n                    Categories\n                  </Button>\n                </Link>\n\n                {/* Enhanced Cart for Guests */}\n                <Link href=\"/cart\">\n                  <Button variant=\"ghost\" className=\"relative text-gray-600 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200 group\">\n                    <ShoppingCart className=\"h-5 w-5 mr-2 group-hover:scale-110 transition-transform duration-200\" />\n                    Cart\n                    {state.itemCount > 0 && (\n                      <Badge className=\"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0 flex items-center justify-center text-xs bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg animate-pulse\">\n                        {state.itemCount > 99 ? '99+' : state.itemCount}\n                      </Badge>\n                    )}\n                  </Button>\n                </Link>\n\n                {/* Enhanced Auth Buttons */}\n                <div className=\"flex items-center gap-2 pl-4 border-l border-gray-200\">\n                  <Link href=\"/auth/login\">\n                    <Button variant=\"ghost\" className=\"text-gray-600 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200\">\n                      <User className=\"h-4 w-4 mr-2\" />\n                      Login\n                    </Button>\n                  </Link>\n                  <Link href=\"/auth/register\">\n                    <Button className=\"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105\">\n                      Register\n                    </Button>\n                  </Link>\n                </div>\n              </>\n            )}\n          </div>\n\n          {/* Enhanced Mobile actions */}\n          <div className=\"md:hidden ml-auto flex items-center space-x-3\">\n            {/* Mobile Search */}\n            <Link href=\"/search\">\n              <Button variant=\"ghost\" size=\"sm\" className=\"text-gray-600 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200\">\n                <Search className=\"h-5 w-5\" />\n              </Button>\n            </Link>\n\n            {/* Mobile Cart */}\n            <Link href=\"/cart\">\n              <Button variant=\"ghost\" size=\"sm\" className=\"relative text-gray-600 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200\">\n                <ShoppingCart className=\"h-5 w-5\" />\n                {state.itemCount > 0 && (\n                  <Badge className=\"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-md\">\n                    {state.itemCount > 9 ? '9+' : state.itemCount}\n                  </Badge>\n                )}\n              </Button>\n            </Link>\n\n            {/* Mobile Menu Button */}\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n              className=\"text-gray-600 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200\"\n            >\n              <Menu className=\"h-5 w-5\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Categories strip (desktop) */}\n        {categories.length > 0 && (\n          <div className=\"hidden md:block relative\">\n            <div className=\"relative\" onMouseEnter={cancelClose} onMouseLeave={scheduleClose}>\n              {/* Scroll buttons */}\n              <button\n                type=\"button\"\n                aria-label=\"Scroll left\"\n                onClick={() => scrollCats(-300)}\n                className=\"absolute left-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 rounded-full bg-white shadow ring-1 ring-gray-200 flex items-center justify-center hover:bg-gray-50\"\n              >\n                <ChevronLeft className=\"h-4 w-4\" />\n              </button>\n\n              <div ref={catScrollRef} className=\"overflow-x-auto px-10\">\n                <div className=\"flex gap-2 py-2\">\n                  {categories.map((cat) => (\n                    <div key={cat.id} className=\"inline-block\">\n                      <Link href={`/?category=${encodeURIComponent(cat.name)}`}>\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          className=\"rounded-full whitespace-nowrap\"\n                          onMouseEnter={() => openCat(cat)}\n                          >\n                           {cat.name}\n                          </Button>\n                      </Link>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <button\n                type=\"button\"\n                aria-label=\"Scroll right\"\n                onClick={() => scrollCats(300)}\n                className=\"absolute right-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 rounded-full bg-white shadow ring-1 ring-gray-200 flex items-center justify-center hover:bg-gray-50\"\n              >\n                <ChevronRight className=\"h-4 w-4\" />\n              </button>\n\n              {/* Category dropdown */}\n              {activeCat && (\n                <div className=\"absolute left-0 right-0 top-full z-40 pt-2\" onMouseEnter={cancelClose} onMouseLeave={scheduleClose}>\n                  <div className=\"bg-white border rounded-xl shadow-lg p-4\">\n                    <div className=\"flex items-center gap-4\">\n                      {activeCat.imageUrl && (\n                        // eslint-disable-next-line @next/next/no-img-element\n                        <img\n                          src={activeCat.imageUrl}\n                          alt={activeCat.name}\n                          className=\"h-16 w-16 object-cover rounded-md\"\n                        />\n                      )}\n                      <div className=\"min-w-0\">\n                        <div className=\"font-medium text-gray-900 truncate\">{activeCat.name}</div>\n                        {activeCat.description && (\n                          <div className=\"text-sm text-gray-600 line-clamp-2\">{activeCat.description}</div>\n                        )}\n                        <Link\n                          href={`/?category=${encodeURIComponent(activeCat.name)}`}\n                          className=\"inline-block mt-2 text-sm text-orange-600 hover:underline\"\n                        >\n                          Explore {activeCat.name}\n                        </Link>\n                      </div>\n                    </div>\n                    <div className=\"mt-4\">\n                      {loadingCat === activeCat.name ? (\n                        <div className=\"grid grid-cols-4 gap-4\">\n                          {Array.from({ length: 8 }).map((_, i) => (\n                            <div key={i} className=\"flex items-center gap-3\">\n                              <div className=\"h-14 w-14 bg-gray-100 rounded-md animate-pulse\" />\n                              <div className=\"flex-1 space-y-2\">\n                                <div className=\"h-3 w-28 bg-gray-100 rounded animate-pulse\" />\n                                <div className=\"h-3 w-16 bg-gray-100 rounded animate-pulse\" />\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      ) : catProducts[activeCat.name]?.length ? (\n                        <div className=\"grid grid-cols-4 gap-4\">\n                          {catProducts[activeCat.name]!.map((p) => (\n                            <Link key={p.id} href={`/products/${p.id}`} className=\"group flex items-center gap-3\">\n                              {/* eslint-disable-next-line @next/next/no-img-element */}\n                              <img\n                                src={(p as any).imageUrl || (p as any).images?.[0] || '/placeholder.png'}\n                                alt={p.name}\n                                className=\"h-14 w-14 object-cover rounded-md border\"\n                              />\n                              <div className=\"min-w-0\">\n                                <div className=\"text-sm font-medium text-gray-900 truncate group-hover:underline\">{p.name}</div>\n                                {typeof (p as any).price === 'number' && (\n                                  <div className=\"text-xs text-gray-600\">₹{((p as any).price as number).toLocaleString('en-IN')}</div>\n                                )}\n                              </div>\n                            </Link>\n                          ))}\n                        </div>\n                      ) : (\n                        <div className=\"text-sm text-gray-500\">No products found.</div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Search (mobile) */}\n        <div className=\"md:hidden pb-3\">\n          <form onSubmit={handleSearchSubmit} className=\"w-full\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500\" />\n              <Input\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"Search for Products, Brands and More\"\n                className=\"h-11 pl-9 bg-gray-50 rounded-full\"\n              />\n            </div>\n          </form>\n        </div>\n\n          {/* Mobile Menu */}\n          {mobileMenuOpen && (\n            <div className=\"md:hidden border-t bg-white\">\n              <div className=\"px-2 pt-2 pb-3 space-y-1\">\n                {user && userData ? (\n                  <>\n                    <div className=\"px-3 py-2\">\n                      <span className=\"text-sm text-gray-600\">\n                        {userData.name} ({userData.role})\n                      </span>\n                    </div>\n\n                    {userData.role === 'admin' && (\n                      <Link href=\"/admin/dashboard\">\n                        <Button variant=\"ghost\" size=\"sm\" className=\"w-full justify-start\">\n                          <Users className=\"h-4 w-4 mr-2\" />\n                          Admin Dashboard\n                        </Button>\n                      </Link>\n                    )}\n\n                    {userData.role === 'seller' && (\n                      <Link href=\"/seller/dashboard\">\n                        <Button variant=\"ghost\" size=\"sm\" className=\"w-full justify-start\">\n                          <Package className=\"h-4 w-4 mr-2\" />\n                          Seller Dashboard\n                        </Button>\n                      </Link>\n                    )}\n\n                    {userData.role === 'customer' && (\n                      <Link href=\"/customer/profile\">\n                        <Button variant=\"ghost\" size=\"sm\" className=\"w-full justify-start\">\n                          <User className=\"h-4 w-4 mr-2\" />\n                          My Profile\n                        </Button>\n                      </Link>\n                    )}\n\n                    <Link href=\"/crm/dashboard\">\n                      <Button variant=\"ghost\" size=\"sm\" className=\"w-full justify-start\">\n                        <MessageSquare className=\"h-4 w-4 mr-2\" />\n                        Support\n                      </Button>\n                    </Link>\n\n                    <Button variant=\"ghost\" size=\"sm\" onClick={handleLogout} className=\"w-full justify-start\">\n                      <LogOut className=\"h-4 w-4 mr-2\" />\n                      Logout\n                    </Button>\n                  </>\n                ) : (\n                  <>\n                    <Link href=\"/customer/login\">\n                      <Button variant=\"ghost\" size=\"sm\" className=\"w-full justify-start\">\n                        <User className=\"h-4 w-4 mr-2\" />\n                        Customer Login\n                      </Button>\n                    </Link>\n                    <Link href=\"/auth/login\">\n                      <Button variant=\"ghost\" size=\"sm\" className=\"w-full justify-start\">\n                        Seller/Admin Login\n                      </Button>\n                    </Link>\n                    <Link href=\"/auth/register\">\n                      <Button size=\"sm\" className=\"w-full bg-orange-500 hover:bg-orange-600\">\n                        Register\n                      </Button>\n                    </Link>\n                  </>\n                )}\n\n                {/* Quick categories (mobile) */}\n                {categories.length > 0 && (\n                  <div className=\"px-3 py-2\">\n                    <div className=\"text-xs text-gray-500 uppercase mb-2\">Categories</div>\n                    <div className=\"grid grid-cols-2 gap-2\">\n                      {categories.slice(0, 8).map(cat => (\n                        <Link key={cat.id} href={`/?category=${encodeURIComponent(cat.name)}`}>\n                          <Button variant=\"outline\" size=\"sm\" className=\"w-full justify-start\">\n                            {cat.name}\n                          </Button>\n                        </Link>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n      </div>\n    </nav>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1832, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Deep%20Slap/Desktop/main%20sit/shri-karni-ecommerce/components/ui/site-popup.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useEffect, useMemo, useState } from 'react'\nimport { onValue, ref } from 'firebase/database'\nimport { database } from '@/lib/firebase'\nimport { X } from 'lucide-react'\n\n// Popup config shape stored at: siteSettings/popup\n// {\n//   enabled: boolean,\n//   text: string,\n//   imageUrl: string,\n//   delaySeconds: number,\n//   style: 1 | 2 | 3 | 4 | 5\n// }\n\ntype PopupConfig = {\n  enabled?: boolean\n  text?: string\n  imageUrl?: string\n  delaySeconds?: number\n  style?: 1 | 2 | 3 | 4 | 5\n  layout?: 'image-top' | 'image-left'\n  heading?: string\n  headingSize?: number\n  textSize?: number\n}\n\nconst styleBase =\n  'fixed z-50 transition-all duration-300 shadow-xl rounded-xl overflow-hidden'\n\nexport function SitePopup() {\n  const [config, setConfig] = useState<PopupConfig | null>(null)\n  const [visible, setVisible] = useState(false)\n  const [loadedOnce, setLoadedOnce] = useState(false)\n\n  useEffect(() => {\n    const unsub = onValue(ref(database, 'siteSettings/popup'), (snap) => {\n      const value = snap.val() as PopupConfig | null\n      setConfig(value || null)\n      setLoadedOnce(true)\n    })\n    return () => unsub()\n  }, [])\n\n  useEffect(() => {\n    if (!loadedOnce) return\n    if (!config?.enabled) {\n      setVisible(false)\n      return\n    }\n    const delay = Math.max(0, Number(config?.delaySeconds || 0)) * 1000\n    const t = setTimeout(() => setVisible(true), delay)\n    return () => clearTimeout(t)\n  }, [config, loadedOnce])\n\n  const containerClass = useMemo(() => {\n    switch (config?.style) {\n      case 2:\n        // Bottom center toast\n        return `${styleBase} bottom-6 left-1/2 -translate-x-1/2 w-[90vw] max-w-md bg-white/95 backdrop-blur border border-gray-200`\n      case 3:\n        // Fullscreen dim overlay center modal\n        return `${styleBase} inset-0 flex items-center justify-center bg-black/50` \n      case 4:\n        // Right slide-in panel\n        return `${styleBase} top-0 right-0 h-full w-[90vw] max-w-sm bg-white`\n      case 5:\n        // Bottom-left minimal card\n        return `${styleBase} bottom-6 left-6 w-[92vw] max-w-sm bg-white/95 backdrop-blur border border-gray-200`\n      case 1:\n      default:\n        // Classic centered modal card\n        return `${styleBase} top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[92vw] max-w-lg bg-white`\n    }\n  }, [config?.style])\n\n  if (!visible || !config?.enabled) return null\n\n  // For style 3 (fullscreen), the card content should be centered within; others render as card directly\n  const isFullscreenOverlay = config?.style === 3\n  const layout = (config?.layout || 'image-top') as 'image-top' | 'image-left'\n  const headingSizePx = Math.max(14, Math.min(64, Number(config?.headingSize ?? 28)))\n  const textSizePx = Math.max(12, Math.min(28, Number(config?.textSize ?? 20)))\n\n  const Card = (\n    <div className=\"relative bg-white rounded-xl overflow-hidden\">\n      <button\n        aria-label=\"Close\"\n        onClick={() => setVisible(false)}\n        className=\"absolute right-2 top-2 p-1 rounded-full hover:bg-gray-100 text-gray-600\"\n      >\n        <X className=\"h-5 w-5\" />\n      </button>\n\n      {layout === 'image-left' && config?.imageUrl ? (\n        <div className=\"flex flex-col md:flex-row\">\n          <div className=\"md:w-1/2 w-full\">\n            {/* eslint-disable-next-line @next/next/no-img-element */}\n            <img src={config.imageUrl} alt=\"Popup\" className=\"w-full h-full object-cover md:min-h-[260px]\" />\n          </div>\n          <div className=\"md:w-1/2 w-full p-5\">\n            {config?.heading ? (\n              <div className=\"font-semibold text-gray-900\" style={{ fontSize: headingSizePx }}>\n                {config.heading}\n              </div>\n            ) : null}\n            <div\n              className=\"site-popup-content mt-2 text-gray-700 leading-relaxed\"\n              style={{ fontSize: textSizePx }}\n              dangerouslySetInnerHTML={{ __html: config?.text || 'Welcome to Shri Karni Home Solutions!' }}\n            />\n          </div>\n        </div>\n      ) : (\n        <>\n          {config?.imageUrl ? (\n            <div className=\"w-full aspect-[16/9] relative\">\n              {/* eslint-disable-next-line @next/next/no-img-element */}\n              <img src={config.imageUrl} alt=\"Popup\" className=\"w-full h-full object-cover\" />\n            </div>\n          ) : null}\n          <div className=\"p-5\">\n            {config?.heading ? (\n              <div className=\"font-semibold text-gray-900\" style={{ fontSize: headingSizePx }}>\n                {config.heading}\n              </div>\n            ) : null}\n            <div\n              className=\"site-popup-content mt-2 text-gray-700 leading-relaxed\"\n              style={{ fontSize: textSizePx }}\n              dangerouslySetInnerHTML={{ __html: config?.text || 'Welcome to Shri Karni Home Solutions!' }}\n            />\n          </div>\n        </>\n      )}\n    </div>\n  )\n\n  if (isFullscreenOverlay) {\n    const Styles = (\n      <style jsx global>{`\n        .site-popup-content .ql-align-center { text-align: center; }\n        .site-popup-content .ql-align-right { text-align: right; }\n        .site-popup-content .ql-align-justify { text-align: justify; }\n        .site-popup-content .ql-size-small { font-size: 0.875em; }\n        .site-popup-content .ql-size-large { font-size: 1.5em; }\n        .site-popup-content .ql-size-huge { font-size: 2.5em; }\n        .site-popup-content .ql-font-serif { font-family: ui-serif, Georgia, Cambria, \"Times New Roman\", Times, serif; }\n        .site-popup-content .ql-font-monospace { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; }\n        .site-popup-content a { color: #2563eb; text-decoration: underline; }\n        .site-popup-content ol { list-style: decimal; padding-left: 1.25rem; }\n        .site-popup-content ul { list-style: disc; padding-left: 1.25rem; }\n        .site-popup-content p { margin-top: 0.5rem; margin-bottom: 0.5rem; }\n      `}</style>\n    )\n    return (\n      <>\n        <div className={containerClass}>\n          <div className=\"w-[92vw] max-w-3xl\">\n            {Card}\n          </div>\n        </div>\n        {Styles}\n      </>\n    )\n  }\n\n  const Styles = (\n    <style jsx global>{`\n      .site-popup-content .ql-align-center { text-align: center; }\n      .site-popup-content .ql-align-right { text-align: right; }\n      .site-popup-content .ql-align-justify { text-align: justify; }\n      .site-popup-content .ql-size-small { font-size: 0.875em; }\n      .site-popup-content .ql-size-large { font-size: 1.5em; }\n      .site-popup-content .ql-size-huge { font-size: 2.5em; }\n      .site-popup-content .ql-font-serif { font-family: ui-serif, Georgia, Cambria, \"Times New Roman\", Times, serif; }\n      .site-popup-content .ql-font-monospace { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; }\n      .site-popup-content a { color: #2563eb; text-decoration: underline; }\n      .site-popup-content ol { list-style: decimal; padding-left: 1.25rem; }\n      .site-popup-content ul { list-style: disc; padding-left: 1.25rem; }\n      .site-popup-content p { margin-top: 0.5rem; margin-bottom: 0.5rem; }\n    `}</style>\n  )\n  return (\n    <>\n      <div className={containerClass}>{Card}</div>\n      {Styles}\n    </>\n  )\n}\n\nexport default SitePopup\n"],"names":[],"mappings":"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","debugId":null}}]
}